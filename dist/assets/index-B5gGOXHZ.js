var P=Object.defineProperty;var w=(t,e,s)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var d=(t,e,s)=>w(t,typeof e!="symbol"?e+"":e,s);import{u as n,B as h,S as b,d as f,y as E,H as N,F as k,k as y}from"./index-D-MLKgKo.js";function r(t){{console.info("For debugging, set `DEBUG_MODE=true` in your .env file.");return}}function S(){const t="/";var e=window.location.href;window.history.go(-1),setTimeout(function(){window.location.href==e&&(window.location.href=t)},500)}const m={PROJECTS:"/posts/index.json",SINGLE_POST:t=>`/posts/${t}/index.json`};class v extends Error{constructor(s,l){super(l);d(this,"kind");this.name="PostsError",this.kind=s}}function O(){const[t,e]=f([]),[s,l]=f(null);return E(()=>{async function p(){const o=(await(await fetch(m.PROJECTS)).json().catch(c=>(r(),l(new v("fetch","Failed to fetch projects list")),[]))).posts||[];r();const a=await Promise.all(o.map(async c=>{const g=m.SINGLE_POST(c),i=await fetch(g).catch(j=>{r()});if(!i)return null;r();const u=await(i==null?void 0:i.json().catch(j=>(r(),null)));return u?(r(),u):null}));return console.log("All projects fetched:",a),a.filter(c=>c!==null)}p().then(o=>{console.log("Projects state updated:",o),e(o)})},[]),[t,s]}function B(){const[t,e]=O();return e?n(h,{children:e.message}):t.length===0?n(h,{children:"No projects found."}):n("section",{id:"projects-list",children:n("div",{className:"centered-column",children:[n("button",{onClick:S,className:"back-button",children:"Back"}),n("div",{className:"projects-grid",children:t.map(s=>n("div",{className:"project-card",children:[n("img",{className:"thumbnail",src:s.thumbnail,alt:s.title}),n(b,{className:"project-title",children:s.title}),n("p",{className:"project-subtitle",children:s.subtitle})]},s.id))})]})})}function x(){return n(y,{children:[n(N,{}),n("main",{children:n(B,{})}),n(k,{})]})}export{x as default};
